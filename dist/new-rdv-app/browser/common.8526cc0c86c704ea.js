"use strict";(self.webpackChunknew_rdv_app=self.webpackChunknew_rdv_app||[]).push([[592],{2824:(Z,m,s)=>{s.d(m,{z:()=>P});var e=s(4650),r=s(4006),p=s(5783),u=s(6518),l=s(6895),f=s(6188);function d(o,n){1&o&&(e.TgZ(0,"p",14),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"First Name is invalid")))}function c(o,n){1&o&&(e.TgZ(0,"p",14),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Last Name is invalid")))}function _(o,n){1&o&&(e.TgZ(0,"p",14),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Phone Number must contain 10 digit numbers")))}function g(o,n){if(1&o&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&o){const i=n.$implicit;e.Q6J("value",i),e.xp6(1),e.Oqu(i)}}function h(o,n){if(1&o&&(e.TgZ(0,"div",15)(1,"label",16),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"select",17),e.YNc(5,g,2,2,"option",18),e.qZA()()),2&o){const i=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"Role")),e.xp6(3),e.Q6J("ngForOf",i.roles)}}const a=function(o){return{"danger-input":o}};let P=(()=>{class o{constructor(i,t){this.formBuilder=i,this.authService=t,this.roles=[],this.updatedValues=new e.vpe,Object.entries(p.K).forEach(([N,v])=>this.roles.push(v))}ngOnInit(){this.editProfileForm=this.formBuilder.group({firstName:[this.profileInfos?.firstName,[r.kI.required,r.kI.pattern(/.*\S.*/)]],lastName:[this.profileInfos?.lastName,[r.kI.required,r.kI.pattern(/.*\S.*/)]],phoneNumber:[this.profileInfos?.phoneNumber,[r.kI.required,r.kI.pattern(/^(\+213|0)?[0-9]{9}$/)]],role:[this.profileInfos?.role,r.kI.required]})}submitForm(){this.updatedValues.emit(this.editProfileForm.value)}get isAdmin(){return this.authService.canCRUDusers(this.currentUser)}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(r.QS),e.Y36(u.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-profile"]],inputs:{profileInfos:"profileInfos",currentUser:"currentUser"},outputs:{updatedValues:"updatedValues"},decls:24,vars:27,consts:[[1,"edit-profile-container"],[1,"signup-form",3,"formGroup"],[1,"form-section","first-name"],["for","firstName"],["type","text","formControlName","firstName",1,"input-form",3,"ngClass"],["class","danger-msg",4,"ngIf"],[1,"form-section","last-name"],["for","lastName"],["type","text","formControlName","lastName",1,"input-form",3,"ngClass"],[1,"form-section","phone-number"],["for","phoneNumber"],["type","tel","formControlName","phoneNumber",1,"input-form",3,"ngClass"],["class","form-section role",4,"ngIf"],[1,"btn","btn-success",3,"disabled","click"],[1,"danger-msg"],[1,"form-section","role"],["for","role"],["formControlName","role",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"label",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",4),e.YNc(7,d,3,3,"p",5),e.qZA(),e.TgZ(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",8),e.YNc(13,c,3,3,"p",5),e.qZA(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"input",11),e.YNc(19,_,3,3,"p",5),e.qZA(),e.YNc(20,h,6,4,"div",12),e.TgZ(21,"button",13),e.NdJ("click",function(){return t.submitForm()}),e._uU(22),e.ALo(23,"translate"),e.qZA()()()),2&i&&(e.xp6(1),e.Q6J("formGroup",t.editProfileForm),e.xp6(3),e.Oqu(e.lcZ(5,13,"First Name")),e.xp6(2),e.Q6J("ngClass",e.VKq(21,a,t.editProfileForm.controls.firstName.invalid&&t.editProfileForm.controls.firstName.touched)),e.xp6(1),e.Q6J("ngIf",t.editProfileForm.controls.firstName.invalid&&t.editProfileForm.controls.firstName.touched),e.xp6(3),e.Oqu(e.lcZ(11,15,"Last Name")),e.xp6(2),e.Q6J("ngClass",e.VKq(23,a,t.editProfileForm.controls.lastName.invalid&&t.editProfileForm.controls.lastName.touched)),e.xp6(1),e.Q6J("ngIf",t.editProfileForm.controls.lastName.invalid&&t.editProfileForm.controls.lastName.touched),e.xp6(3),e.Oqu(e.lcZ(17,17,"Phone Number")),e.xp6(2),e.Q6J("ngClass",e.VKq(25,a,t.editProfileForm.controls.phoneNumber.invalid&&t.editProfileForm.controls.phoneNumber.touched)),e.xp6(1),e.Q6J("ngIf",t.editProfileForm.controls.phoneNumber.invalid&&t.editProfileForm.controls.phoneNumber.touched),e.xp6(1),e.Q6J("ngIf",t.isAdmin),e.xp6(1),e.Q6J("disabled",t.editProfileForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(23,19,"Save")," "))},dependencies:[l.mk,l.sg,l.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u,f.X$],styles:[".form-section[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.btn-success[_ngcontent-%COMP%]{width:100%}"]}),o})()}}]);