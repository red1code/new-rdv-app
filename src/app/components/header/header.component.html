<div class="header-container">
  <div class="nav-container">
    <!-- webesite logo -->
    <div class="logo-container">
      <a class="logo-link" routerLink="">
        <img src="../../../assets/rendezvous-icon.svg" style="width: 30px;" alt="">
        <span style="font-size: 25px; margin-left: 7px;">RENDEZVOUS</span>
      </a>
    </div>
    <!-- navigation links -->
    <nav class="nav-links-container">
      <a *ngIf="user" class="nav-links" routerLink="/home" routerLinkActive="active-link"
          [routerLinkActiveOptions]="{exact:true}">{{'Home' | translate}}</a>
      <a *ngIf="user" class="nav-links" routerLink="/rendezvous" routerLinkActive="active-link"
          [routerLinkActiveOptions]="{exact:true}">{{'Rendezvous' | translate}}</a>
      <a *ngIf="dashboardAuth" class="nav-links" routerLink="/dashboard" routerLinkActive="active-link"
          [routerLinkActiveOptions]="{exact:true}">{{'Dashboard' | translate}}</a>
    </nav>
    <!-- popup menu at the far right of the header -->
    <div>
      <button *ngIf="user" (click)="toggleMenu()" (blur)="showMenu=false" class="right-menu-container">
        <div class="menu-header">
          <img *ngIf="user.imageURL" [src]="user.imageURL" class="userIMG"  onerror="this.src='../../../assets/unknown-profile-picture.jpg'">
          <span class="userName">{{ user.firstName }}</span>
          <i class="fas fa-caret-down"></i>
        </div>
        <!-- the menu -->
        <div *ngIf="showMenu" class="menu">
          <hr style="margin: 0 0 7px 0; opacity: 0;">
          <!-- go to profile -->
          <div (click)="goToProfile()" class="profile-sec">
            <div>
              <img [src]="user.imageURL" class="rounded-circle" style="width: 50px; height: 50px;"  onerror="this.src='../../../assets/unknown-profile-picture.jpg'">
            </div>
            <div style="text-align: left; margin-left: 11px;">
              <div style="font-size: medium;">
                <strong>{{ user.firstName }} {{ user.lastName }}</strong>
              </div>
              <div style="font-size: smaller;">{{ user.email }}</div>
              <div style="font-size: smaller;"><em>{{ user.role }}</em></div>
            </div>
          </div>
          <hr style="margin: 7px 0;">
          <!-- go to my-RDVs -->
          <div (click)="goToMyRDVs()" class="profile-sec">
            <div><i class="fas fa-calendar-check"></i></div>
            <div style="text-align: left; margin-left: 11px;">
              <a style="color: inherit;">{{'My Rendezvous' | translate}}</a>
            </div>
          </div>
          <hr style="margin: 7px 0;">
          <!-- logout -->
          <div (click)="logOut()" class="log-out-sec">
            <div class="inside" style="font-size: 1rem;">
              <i class="fas fa-power-off"></i>
            </div>
            <div style="margin-left: 15px; font-size: 1rem;">{{'Sign out' | translate}}</div>
          </div>
          <hr style="margin: 7px 0 0 0; opacity: 0;">
        </div>
      </button>

      <!-- signup -->
      <button *ngIf="!user" routerLink="auth/signup" class="signup-btn">{{'Sign Up' | translate}}</button>

      <!-- select-language -->
      <span class="select-container" title="{{'Change Language' | translate}}">
        <select class="language-select" (change)="changeLanguage($event)">
          <option value="en" [selected]="language == 'en'">Eng</option>
          <option value="fr" [selected]="language == 'fr'">Fr</option>
          <option value="ar" [selected]="language == 'ar'">عر</option>
        </select>
      </span>
    </div>
  </div>
</div>
